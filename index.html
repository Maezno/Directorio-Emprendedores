<!DOCTYPE html>
<html lang="es">
  <head>
    <link
      href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;700;800&display=swap"
      rel="stylesheet"
    />

    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Directorio de Emprendedores</title>
    <style>
      .dir-actions,.dir-header-content{display:grid;align-items:center;gap:12px}.dir-title,.sheet-header .meta .hn{font-weight:800;letter-spacing:.2px}.g-stage img,.g-thumbs img,.logo{object-fit:cover}.g-stage img,.loading,.swipe-hint{pointer-events:none}.card,.credit,.dir-count,.dir-title,.error-message{text-align:center}.dir-emprendedores{--card:#ffffff;--text:#1b325c;--muted:#6b7280;--accent:#2563eb;--ring:rgba(37, 99, 235, 0.2);--shadow:0 6px 24px rgba(0, 0, 0, 0.08);font-family:Montserrat,system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,Noto Sans,"Helvetica Neue",Arial,sans-serif;color:var(--text);background:url("fondo.jpg") center center/cover no-repeat fixed;line-height:1.5;margin:0}.dir-emprendedores *{box-sizing:border-box}.dir-wrap{max-width:1100px;margin:0 auto;padding:20px 16px}.dir-header{display:grid;grid-template-columns:1fr minmax(0,1100px) 1fr;background-color:#fff;width:100%;padding:1rem 0;box-shadow:0 2px 4px rgba(0,0,0,.1);position:relative}.dir-header-content{grid-template-columns:auto 1fr auto;grid-column:2;padding:0 16px}.dir-logo{height:80px;width:auto;flex-shrink:0}.dir-title{font-size:clamp(20px, 4vw, 25px);line-height:1.1}.dir-btn-count{display:flex;align-items:center;gap:12px}.hamburger{display:none;background:0 0;border:none;flex-direction:column;gap:3px;padding:8px;cursor:pointer;border-radius:6px;transition:background-color .2s}.close:hover,.g-btn:hover,.hamburger:hover{background:#f3f4f6}.hamburger span{display:block;width:22px;height:2px;background:var(--text);transition:.3s;transform-origin:center}.hamburger.active span:first-child{transform:rotate(45deg) translate(5px,5px)}.hamburger.active span:nth-child(2){opacity:0}.hamburger.active span:nth-child(3){transform:rotate(-45deg) translate(7px,-6px)}.mobile-menu{position:fixed;top:0;left:0;width:100%;height:100vh;background:rgba(0,0,0,.5);backdrop-filter:blur(4px);z-index:1000;display:none;align-items:flex-start;justify-content:center;padding-top:20px}.mobile-menu.open,.modal.open{display:flex}.mobile-menu-content{background:#fff;border-radius:12px;padding:20px;margin:0 16px;width:calc(100% - 32px);max-width:400px;box-shadow:0 20px 40px rgba(0,0,0,.15);display:flex;flex-direction:column;gap:16px}.mobile-menu-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:12px}.mobile-menu-title{font-weight:700;font-size:18px;color:var(--text)}.mobile-menu-close{background:#f3f4f6;border:none;width:32px;height:32px;border-radius:6px;display:flex;align-items:center;justify-content:center;cursor:pointer;font-size:18px;color:var(--text)}.card,.dir-input{background:var(--card);box-shadow:var(--shadow)}.dir-input{width:100%;display:flex;align-items:center;border:1px solid #e5e7eb;border-radius:12px;padding:12px}@media (min-width:641px){.dir-input{width:min(420px,100%);padding:8px 12px}}.dir-input input{border:0;outline:0;width:100%;font-size:15px;background:0 0}.dir-input input::placeholder{color:#9ca3af}.dir-count{font-size:13px;color:var(--muted)}.dir-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(160px,1fr));gap:12px;margin-top:10px}@media (max-width:640px){.dir-header{justify-content:space-between}.dir-logo{height:50px}.dir-title{margin-bottom:0;line-height:1.2}.dir-actions{display:none}.hamburger{display:flex}.dir-grid{grid-template-columns:repeat(auto-fill,minmax(140px,1fr));gap:10px}}.card{border:1px solid #c2d500;border-radius:12px;padding:12px;display:flex;flex-direction:column;gap:8px;align-items:center;cursor:pointer;transition:transform .2s,box-shadow .2s;position:relative}.card:focus,.card:hover{transform:translateY(-2px);box-shadow:0 10px 30px rgba(0,0,0,.12);outline:0}@media (hover:none){.card:hover{transform:none}}.logo{width:100px;height:100px;border-radius:12px}.name{font-weight:700;font-size:14px;line-height:1.2;color:#1b325c}.small{font-size:11px;color:var(--muted)}.modal{position:fixed;inset:0;display:none;background:rgba(17,24,39,.48);backdrop-filter:saturate(160%) blur(6px);align-items:center;justify-content:center;padding:16px;z-index:9999}.g-stage,.gallery{position:relative}.sheet{width:min(980px,100%);background:var(--card);border-radius:16px;border:1px solid #c2d500;box-shadow:0 24px 70px rgba(0,0,0,.25);display:flex;flex-direction:column;overflow-y:auto}.sheet-header{display:flex;gap:20px;padding:16px;background:#0c1931;color:#fff;border-bottom:1px solid #c2d500;align-items:flex-start;justify-content:flex-start}.sheet-header .hero{flex-shrink:0;width:120px;height:120px;display:flex;align-items:center;justify-content:center}.sheet-header .hero img{width:100%;height:100%;object-fit:cover;border-radius:10px}.sheet-header .meta{display:flex;flex-direction:column;gap:8px;align-items:flex-start;text-align:left;flex:1}.sheet-header .meta .hn{font-size:20px;line-height:1.3;margin:0}.meta .row{display:flex;gap:10px;align-items:flex-start;width:100%}.meta .label{min-width:80px;color:#a7b0c0;font-size:11px;text-transform:uppercase;letter-spacing:.08em;padding-top:2px}.meta .val{font-size:14px;color:#e5e7eb;word-break:break-word}.meta a{color:#bfdbfe;text-decoration:none;border-bottom:1px dashed rgba(191,219,254,.5)}.sheet-content{padding:16px;display:flex;flex-direction:column;gap:12px;flex-grow:1}.sheet-content .desc{font-size:14px;color:#374151;background:#f8fafc;border:1px solid #e5e7eb;border-radius:10px;padding:12px;line-height:1.4}.gallery{background:#0c1931;border-radius:12px;padding:10px;border:1px solid #e5e7eb}.g-stage{aspect-ratio:16/10;background:#0f172a;border-radius:8px;display:flex;align-items:center;justify-content:center;overflow:hidden;touch-action:pan-y pinch-zoom;user-select:none}.close,.g-btn{background:var(--card);cursor:pointer;font-weight:700;transition:background-color .2s}.g-stage img{width:100%;height:100%;transition:transform .3s}.g-nav{display:flex;justify-content:space-between;align-items:center;margin-top:8px;gap:8px}.g-thumbs{display:flex;gap:6px;overflow:auto;padding-bottom:2px;flex:1;justify-content:center}.g-thumbs img{width:48px;height:48px;border-radius:6px;border:2px solid transparent;cursor:pointer;flex:0 0 auto}.g-thumbs img.active{border-color:var(--accent);box-shadow:0 0 0 2px var(--ring)}.g-btn{border:1px solid #e5e7eb;border-radius:8px;padding:6px 10px;font-size:12px;color:#1b325c;white-space:nowrap}.g-btn:active{transform:scale(.95)}.close{position:absolute;top:8px;right:8px;border:1px solid #e5e7eb;border-radius:8px;padding:6px 8px;font-size:14px;z-index:10}.swipe-hint{position:absolute;bottom:8px;left:50%;transform:translateX(-50%);font-size:10px;color:rgba(255,255,255,.6);background:rgba(0,0,0,.3);padding:2px 6px;border-radius:4px;opacity:0;transition:opacity .3s}@media (max-width:768px){.dir-emprendedores{background:url("fondo-movil.jpg") center center/cover no-repeat}.g-stage{aspect-ratio:3/2;min-height:180px}.swipe-hint{opacity:1}}.credit{margin-top:16px;font-size:11px;color:#9ca3af;padding:0 12px}@media (max-width:480px){.dir-wrap{padding:16px 12px}.dir-grid{grid-template-columns:repeat(2,1fr);gap:8px}.card{padding:10px;gap:6px;border-radius:10px}.logo{width:80px;height:80px;border-radius:10px}.name{font-size:14px}.small{font-size:10px}.modal{padding:20px 12px 12px;align-items:flex-start}.sheet{border-radius:12px;max-height:95vh}.sheet-header{flex-direction:column;align-items:center;gap:12px}.sheet-header .hero{width:100px;height:100px}.sheet-header .meta{align-items:center;text-align:center;width:100%}.sheet-header .meta .hn{font-size:18px}.meta .row{flex-direction:column;gap:4px;align-items:center;text-align:center}.meta .label{min-width:auto;font-size:10px}.meta .val{font-size:13px}.sheet-content{padding:14px;gap:10px}.sheet-content .desc{font-size:13px;padding:10px}.gallery{padding:8px;border-radius:10px}.g-stage{aspect-ratio:4/3;min-height:150px}.g-nav{gap:6px}.g-thumbs{gap:4px}.g-thumbs img{width:40px;height:40px}.g-btn{padding:5px 8px;font-size:11px}.close{top:6px;right:6px;padding:5px 7px;font-size:13px}.credit{font-size:10px;margin-top:12px}}.loading{opacity:.5}.error-message{padding:20px;color:var(--muted);font-size:14px}@media (prefers-reduced-motion:reduce){*{animation-duration:0s!important;animation-iteration-count:1!important;transition-duration:0s!important}}.dir-emprendedores{overflow-x:hidden}
    </style>
  </head>
  <body class="dir-emprendedores">
    <!-- HEADER -->
    <header class="dir-header">
      <div class="dir-header-content">
        <!-- Logo -->
        <img src="logo-ze.png" alt="Logo" class="dir-logo" />

        <!-- Título -->
        <div class="dir-title">Directorio de Emprendedores</div>

        <!-- Acciones -->
        <div class="dir-actions">
          <div class="dir-input">
            <svg
              width="18"
              height="18"
              viewBox="0 0 24 24"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
              aria-hidden="true"
            >
              <path
                d="M21 21L15.8 15.8M18 10.5C18 14.09 15.09 17 11.5 17C7.91 17 5 14.09 5 10.5C5 6.91 7.91 4 11.5 4C15.09 4 18 6.91 18 10.5Z"
                stroke="#6b7280"
                stroke-width="2"
                stroke-linecap="round"
              />
            </svg>
            <input
              id="search"
              type="search"
              placeholder="Buscar por nombre o rubro..."
              aria-label="Buscar emprendedores"
            />
          </div>

          <div class="dir-btn-count">
            <button id="sort-btn" class="g-btn">Orden Alfabético</button>
            <div class="dir-count" id="dir-count"></div>
          </div>
        </div>
      </div>

      <!-- Botón hamburguesa (móvil) -->
      <button class="hamburger" id="hamburger" aria-label="Menú de opciones">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </header>

    <!-- Mobile menu -->
    <div class="mobile-menu" id="mobile-menu">
      <div class="mobile-menu-content">
        <div class="mobile-menu-header">
          <div class="mobile-menu-title">Opciones</div>
          <button
            class="mobile-menu-close"
            id="mobile-menu-close"
            aria-label="Cerrar menú"
          >
            ×
          </button>
        </div>

        <button id="sort-btn-mobile" class="g-btn">Orden Alfabético</button>

        <div class="dir-input">
          <svg
            width="18"
            height="18"
            viewBox="0 0 24 24"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
            aria-hidden="true"
          >
            <path
              d="M21 21L15.8 15.8M18 10.5C18 14.09 15.09 17 11.5 17C7.91 17 5 14.09 5 10.5C5 6.91 7.91 4 11.5 4C15.09 4 18 6.91 18 10.5Z"
              stroke="#6b7280"
              stroke-width="2"
              stroke-linecap="round"
            />
          </svg>
          <input
            id="search-mobile"
            type="search"
            placeholder="Buscar por nombre o rubro..."
            aria-label="Buscar emprendedores"
          />
        </div>

        <div class="dir-count" id="dir-count-mobile"></div>
      </div>
    </div>

    <!-- Contenido -->
    <main class="dir-wrap">
      <div class="dir-grid" id="grid" role="list"></div>
      <div class="credit">
        Tip: hacé click en un emprendedor para ver la ficha y la galería.
      </div>
    </main>

    <!-- Modal -->
    <div
      class="modal"
      id="modal"
      aria-hidden="true"
      aria-modal="true"
      role="dialog"
    >
      <div class="sheet" role="document">
        <button class="close" id="close" aria-label="Cerrar ficha">×</button>

        <!-- Header emprendedor -->
        <div class="sheet-header">
          <div class="hero">
            <img id="m-logo" alt="Logo" />
          </div>
          <div class="meta">
            <div>
              <h1 class="hn" id="m-name">Nombre</h1>
              <div id="m-tag"></div>
            </div>
            <div class="row">
              <div class="label">Dirección</div>
              <div class="val" id="m-address">—</div>
            </div>
            <div class="row">
              <div class="label">Teléfono</div>
              <div class="val"><a id="m-phone" href="#">—</a></div>
            </div>
            <div class="row">
              <div class="label">Web / Red</div>
              <div class="val">
                <a id="m-link" target="_blank" rel="noopener">—</a>
              </div>
            </div>
          </div>
        </div>

        <!-- Contenido ficha -->
        <div class="sheet-content">
          <div class="desc" id="m-desc">Descripción</div>
          <div class="gallery">
            <div class="g-stage" id="g-stage-container">
              <img id="g-stage" alt="Foto del producto" />
              <div class="swipe-hint">Deslizá para ver más fotos</div>
            </div>
            <div class="g-nav">
              <button class="g-btn" id="prev">◀</button>
              <div class="g-thumbs" id="thumbs"></div>
              <button class="g-btn" id="next">▶</button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <script>
     function shuffleArray(e){let t=[...e];for(let o=t.length-1;o>0;o--){let n=Math.floor(Math.random()*(o+1));[t[o],t[n]]=[t[n],t[o]]}return t}let emprendedoresOriginales=[],emprendedores=[];const grid=document.getElementById("grid"),count=document.getElementById("dir-count"),countMobile=document.getElementById("dir-count-mobile"),search=document.getElementById("search"),searchMobile=document.getElementById("search-mobile"),sortBtn=document.getElementById("sort-btn"),sortBtnMobile=document.getElementById("sort-btn-mobile"),hamburger=document.getElementById("hamburger"),mobileMenu=document.getElementById("mobile-menu"),mobileMenuClose=document.getElementById("mobile-menu-close");let sortOrder="aleatorio",searchTimeout;function openMobileMenu(){mobileMenu.classList.add("open"),hamburger.classList.add("active"),document.body.style.overflow="hidden",searchMobile.value=search.value,updateCountDisplay()}function closeMobileMenu(){mobileMenu.classList.remove("open"),hamburger.classList.remove("active"),document.body.style.overflow=""}function syncSearch(e,t){t.value=e.value,clearTimeout(searchTimeout),searchTimeout=setTimeout(optimizedRenderGridFiltered,300)}function updateCountDisplay(){let e=count.textContent;countMobile&&(countMobile.textContent=e)}function toggleSortOrder(){sortOrder="aleatorio"===sortOrder?"alfabetico":"aleatorio";let e="aleatorio"===sortOrder?"Orden Alfab\xe9tico":"Orden Aleatorio";sortBtn.textContent=e,sortBtnMobile.textContent=e,renderGridFiltered()}function renderGridFiltered(){let e=normalize(search.value||searchMobile.value),t=emprendedores.filter(t=>normalize(t.nombre).includes(e)||normalize(t.rubro).includes(e));if("alfabetico"===sortOrder)t.sort((e,t)=>e.nombre.localeCompare(t.nombre));else{let o=emprendedores.map(e=>e.id);t.sort((e,t)=>o.indexOf(e.id)-o.indexOf(t.id))}renderGrid(t)}function renderGrid(e){if(!e.length){grid.innerHTML='<div class="error-message">No se encontraron emprendedores con esos criterios.</div>',count.textContent="0 emprendedores",updateCountDisplay();return}grid.innerHTML="",e.forEach(e=>{let t=document.createElement("button");t.className="card",t.setAttribute("role","listitem"),t.setAttribute("aria-label",`Ver detalles de ${e.nombre}`),t.addEventListener("click",()=>openModal(e.id)),t.innerHTML=`
            <img class="logo" src="${e.logo}" alt="Logo de ${e.nombre}" loading="lazy" onerror="this.style.display='none'" />
            <div class="name">${e.nombre}</div>
            <div class="small">${e.rubro}</div>
          `,grid.appendChild(t)});let t=`${e.length} emprendedor${1===e.length?"":"es"}`;count.textContent=t,updateCountDisplay()}function normalize(e){return e.toLowerCase().normalize("NFD").replace(/\p{Diacritic}/gu,"")}hamburger.addEventListener("click",openMobileMenu),mobileMenuClose.addEventListener("click",closeMobileMenu),mobileMenu.addEventListener("click",e=>{e.target===mobileMenu&&closeMobileMenu()}),search.addEventListener("input",()=>syncSearch(search,searchMobile)),searchMobile.addEventListener("input",()=>syncSearch(searchMobile,search)),fetch("emprendedores.json").then(e=>{if(!e.ok)throw Error("Error al cargar el archivo JSON");return e.json()}).then(e=>{renderGrid(emprendedores=shuffleArray(emprendedoresOriginales=e.map(e=>({id:e.id,nombre:e.nombreLegible||e.id.replace(/-/g," ").replace(/\b\w/g,e=>e.toUpperCase()),rubro:e.rubro||"",descripcion:e.descripcion||"",direccion:e.direccion||"",telefono:e.telefono||"",link:e.link||"",logo:`emprendedores/${e.id}/logo.png`,fotos:Array.from({length:8},(t,o)=>`emprendedores/${e.id}/${o+1}.jpg`)}))));let t=location.hash.replace("#","");if(t){let o=emprendedores.some(e=>e.id===t);o&&openModal(t)}}).catch(e=>{console.error("Error cargando JSON:",e),document.getElementById("grid").innerHTML='<div class="error-message">Error al cargar los emprendedores. Por favor, recarga la p\xe1gina.</div>'}),sortBtn.addEventListener("click",toggleSortOrder),sortBtnMobile.addEventListener("click",()=>{toggleSortOrder(),closeMobileMenu()});let lastSearchValue="",lastSortOrder="aleatorio";function optimizedRenderGridFiltered(){let e=search.value||searchMobile.value;(e!==lastSearchValue||sortOrder!==lastSortOrder)&&(lastSearchValue=e,lastSortOrder=sortOrder,renderGridFiltered())}const modal=document.getElementById("modal"),closeBtn=document.getElementById("close"),mLogo=document.getElementById("m-logo"),mName=document.getElementById("m-name"),mTag=document.getElementById("m-tag"),mDesc=document.getElementById("m-desc"),mAddr=document.getElementById("m-address"),mPhone=document.getElementById("m-phone"),mLink=document.getElementById("m-link"),gStage=document.getElementById("g-stage"),gStageContainer=document.getElementById("g-stage-container"),thumbs=document.getElementById("thumbs"),prev=document.getElementById("prev"),next=document.getElementById("next");let active=null,gi=0,fotosValidas=[],startX=0,startY=0,distX=0,distY=0,threshold=50,allowedTime=300,elapsedTime=0,startTime=0;function handleTouchStart(e){let t=e.touches[0];startX=t.clientX,startY=t.clientY,startTime=new Date().getTime(),e.preventDefault()}function handleTouchMove(e){e.preventDefault()}function handleTouchEnd(e){if(!active||!fotosValidas.length)return;let t=e.changedTouches[0];distX=t.clientX-startX,distY=t.clientY-startY,(elapsedTime=new Date().getTime()-startTime)<=allowedTime&&Math.abs(distX)>=threshold&&100>=Math.abs(distY)&&(distX>0?prevPhoto():nextPhoto())}function openModal(e){let t=emprendedores.find(t=>t.id===e);if(!t)return;mobileMenu.classList.contains("open")&&closeMobileMenu(),active=t,gi=0,fotosValidas=[];let o=t.fotos.map((e,t)=>new Promise(o=>{let n=new Image;n.onload=()=>o({src:e,index:t,exists:!0}),n.onerror=()=>o({src:e,index:t,exists:!1}),n.src=e}));if(Promise.all(o).then(e=>{0===(fotosValidas=e.filter(e=>e.exists).map(e=>e.src)).length&&(fotosValidas=[t.logo]),renderGallery()}),mLogo.src=t.logo,mLogo.alt=`Logo de ${t.nombre}`,mName.textContent=t.nombre,mTag.textContent=t.rubro,mDesc.textContent=t.descripcion||"Sin descripci\xf3n disponible.",mAddr.textContent=t.direccion||"Sin direcci\xf3n disponible.",t.telefono?(mPhone.textContent=t.telefono,mPhone.href=`tel:${t.telefono.replace(/[^+\d]/g,"")}`,mPhone.style.pointerEvents="auto"):(mPhone.textContent="—",mPhone.href="#",mPhone.style.pointerEvents="none"),t.link){let n=t.link.replace(/^https?:\/\//,"").slice(0,40);mLink.textContent=n,mLink.href=t.link,mLink.style.pointerEvents="auto"}else mLink.textContent="—",mLink.href="#",mLink.style.pointerEvents="none";modal.scrollTop=0,modal.classList.add("open"),modal.setAttribute("aria-hidden","false"),document.body.style.overflow="hidden",gStageContainer.addEventListener("touchstart",handleTouchStart,{passive:!1}),gStageContainer.addEventListener("touchmove",handleTouchMove,{passive:!1}),gStageContainer.addEventListener("touchend",handleTouchEnd,{passive:!1}),history.pushState(null,"",`#${e}`)}function closeModal(){modal.classList.remove("open"),modal.setAttribute("aria-hidden","true"),document.body.style.overflow="",gStageContainer.removeEventListener("touchstart",handleTouchStart),gStageContainer.removeEventListener("touchmove",handleTouchMove),gStageContainer.removeEventListener("touchend",handleTouchEnd),active=null,fotosValidas=[],location.hash.startsWith("#")&&history.pushState("",document.title,window.location.pathname+window.location.search)}function renderGallery(){if(!active||!fotosValidas.length)return;gi>=fotosValidas.length&&(gi=0),gi<0&&(gi=fotosValidas.length-1),gStage.src=fotosValidas[gi],gStage.alt=`Foto ${gi+1} de ${fotosValidas.length} de ${active.nombre}`,thumbs.innerHTML="",fotosValidas.forEach((e,t)=>{let o=document.createElement("img");o.src=e,o.alt=`Miniatura ${t+1}`,o.loading="lazy",t===gi&&o.classList.add("active"),o.addEventListener("click",()=>{gi=t,renderGallery()}),thumbs.appendChild(o)});let e=fotosValidas.length>1;if(prev.style.display=e?"block":"none",next.style.display=e?"block":"none",e){let t=thumbs.querySelector(".active");t&&t.scrollIntoView({behavior:"smooth",block:"nearest",inline:"center"})}}function nextPhoto(){active&&fotosValidas.length&&(gi=(gi+1)%fotosValidas.length,renderGallery())}function prevPhoto(){active&&fotosValidas.length&&(gi=(gi-1+fotosValidas.length)%fotosValidas.length,renderGallery())}closeBtn.addEventListener("click",closeModal),modal.addEventListener("click",e=>{e.target===modal&&closeModal()}),document.addEventListener("keydown",e=>{"Escape"===e.key&&(modal.classList.contains("open")?closeModal():mobileMenu.classList.contains("open")&&closeMobileMenu()),active&&fotosValidas.length&&("ArrowRight"===e.key&&nextPhoto(),"ArrowLeft"===e.key&&prevPhoto())}),next.addEventListener("click",nextPhoto),prev.addEventListener("click",prevPhoto),window.addEventListener("popstate",()=>{let e=location.hash.replace("#","");e&&emprendedores.some(t=>t.id===e)?openModal(e):modal.classList.contains("open")&&closeModal()}),modal.addEventListener("focus",e=>{modal.contains(e.target)||closeBtn.focus()}),document.addEventListener("keydown",e=>{if(modal.classList.contains("open")&&"Tab"===e.key){let t=modal.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'),o=t[0],n=t[t.length-1];e.shiftKey?document.activeElement===o&&(n.focus(),e.preventDefault()):document.activeElement===n&&(o.focus(),e.preventDefault())}}),document.addEventListener("error",e=>{"IMG"===e.target.tagName&&(e.target.style.display="none")},!0);let preventScrollX=!1;function debounce(e,t){let o;return function n(...r){let l=()=>{clearTimeout(o),e(...r)};clearTimeout(o),o=setTimeout(l,t)}}document.addEventListener("touchstart",e=>{e.touches.length>1||(preventScrollX=!1)}),document.addEventListener("touchmove",e=>{!(e.touches.length>1)&&preventScrollX&&e.preventDefault()},{passive:!1});const debouncedSearch=debounce(optimizedRenderGridFiltered,300);if(search.removeEventListener("input",()=>syncSearch(search,searchMobile)),searchMobile.removeEventListener("input",()=>syncSearch(searchMobile,search)),search.addEventListener("input",()=>{searchMobile.value=search.value,debouncedSearch()}),searchMobile.addEventListener("input",()=>{search.value=searchMobile.value,debouncedSearch()}),"ontouchstart"in window||navigator.maxTouchPoints){document.body.classList.add("touch-device");let e=document.querySelectorAll("button, .card");e.forEach(e=>{e.addEventListener("touchstart",function(){this.style.transform="scale(0.98)"}),e.addEventListener("touchend",function(){setTimeout(()=>{this.style.transform=""},100)})})}
    </script>
  </body>
</html>
